<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    body {background-color: #fafaf5}
    span.s1 {font-kerning: none}
  </style>
</head>
<body>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1">&lt;!DOCTYPE html&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1">&lt;html lang="pl"&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1">&lt;head&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">  </span>&lt;meta charset="UTF-8" /&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">  </span>&lt;title&gt;Dashboard czasu odpowiedzi&lt;/title&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">  </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"/&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">  </span>&lt;style&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>body { font-family: 'Inter', Arial, sans-serif; background: #f7f8f5; margin: 0; }</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>.container { max-width: 1200px; margin: 40px auto; }</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>.header { font-size: 1.5rem; font-weight: 500; margin-bottom: 15px; }</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>.service-grid { display: flex; flex-wrap: wrap; gap: 28px; }</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>.service-card { background: #fff; border-radius: 14px; box-shadow: 0 0 16px #eee; padding: 22px 14px 18px 18px; flex: 1; min-width: 320px; max-width: 340px; display: flex; flex-direction: column; }</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>.card-header { font-size: 1.18rem; font-weight: 700; color: #1a2b34; margin-bottom: 8px; }</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>.card-sub { color: #718287; margin-bottom: 16px; }</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>.bar-chart { display: flex; align-items: flex-end; height: 90px; margin-bottom: 10px; gap: 3px; cursor: pointer; }</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>.bar { width: 12px; border-radius: 4px 4px 0 0; transition: background .2s; position: relative;}</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>.bar.ok { background: #319376; }</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>.bar.err { background: #d34040; }</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>.bar:hover::after {</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>content: attr(data-tooltip);</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>position: absolute;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>top: -30px;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>left: -20px;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>background: #222; color: #fff; padding: 6px 12px; font-size: .92rem; border-radius: 5px;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>white-space: nowrap; z-index: 2;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>}</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>.flex-btn { display: flex; align-items: center; gap: 0; }</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>.test-btn { flex: 7; padding: 8px 0; background: #25829e; color: #fff; border: none; border-top-left-radius: 7px; border-bottom-left-radius: 7px; font-weight: bold; font-size: 1rem; cursor: pointer; transition: background .2s;}</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>.test-btn:hover { background: #319376; }</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>.delete-btn { flex: 3; padding: 8px 0; background: #e44747; color: #fff; border: none; border-top-right-radius: 7px; border-bottom-right-radius: 7px; font-size: 1rem; font-weight: bold; cursor: pointer; }</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>.delete-btn:hover { background: #d34040; }</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>.modal-bg { position: fixed; top:0; left:0; width: 100vw; height: 100vh; background: rgba(44,59,80,.32); display: flex; align-items: center; justify-content: center; z-index: 100; }</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>.modal-content { background: #fff; border-radius: 15px; padding: 32px 24px; box-shadow: 0 8px 36px #ccc; max-width: 820px; width: 100%; position: relative; }</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>.close-modal { position: absolute; right: 26px; top: 18px; font-size: 1.3rem; background: none; border: none; color: #e44747; cursor: pointer; }</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>.detail-chart { width: 100%; height: 220px; margin-bottom: 14px; }</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>.date-filter { display: flex; gap: 14px; margin-bottom: 18px; align-items: center; }</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>.stats-table { border-collapse: collapse; width: 100%; margin-bottom: 10px;}</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>.stats-table th, .stats-table td { border: 1px solid #eee; padding: 6px 12px; text-align: left; font-size: 1.02rem;}</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>.stats-table th { background: #f1f3f6;}</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>.export-btn { margin-top: 10px; padding: 9px 24px; background: #319376; color: #fff; border: none; border-radius: 6px; font-weight: 500; font-size: 1rem; cursor: pointer; }</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">  </span>&lt;/style&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1">&lt;/head&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1">&lt;body&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">  </span>&lt;div class="container"&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div class="header"&gt;Monitoruj czas odpowiedzi serwisów w czasie rzeczywistym&lt;/div&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>&lt;form id="addForm" style="margin-bottom:25px;display:flex;gap:18px;align-items:center;"&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>&lt;div style="flex:3"&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>&lt;input type="text" id="serviceName" class="input" placeholder="np. Itaka.pl" style="width:100%;padding:9px;border-radius:7px;border:1px solid #dad9db;font-size:1rem;"&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>&lt;div style="flex:4"&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>&lt;input type="url" id="serviceUrl" class="input" placeholder="https://itaka.pl" style="width:100%;padding:9px;border-radius:7px;border:1px solid #dad9db;font-size:1rem;"&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>&lt;div style="flex:2"&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>&lt;input type="number" id="serviceThreshold" class="input" value="3000" min="100" step="100" style="width:100%;padding:9px;border-radius:7px;border:1px solid #dad9db;font-size:1rem;"&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>&lt;button type="submit" style="padding:10px 18px;background:#319376;color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:bold;cursor:pointer;"&gt;Dodaj serwis&lt;/button&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/form&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div class="service-grid" id="grid"&gt;&lt;/div&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div id="modalBG" class="modal-bg" style="display:none;"&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>&lt;div class="modal-content"&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>&lt;button class="close-modal" id="closeModal"&gt;&amp;times;&lt;/button&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>&lt;h2 id="modalTitle"&gt;&lt;/h2&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>&lt;div class="date-filter"&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">          </span>&lt;label&gt;Zakres dat:&lt;/label&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">          </span>&lt;input type="date" id="fromDate"&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">          </span>&lt;input type="date" id="toDate"&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">          </span>&lt;button class="export-btn" id="exportBtn"&gt;Eksport CSV&lt;/button&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>&lt;/div&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>&lt;canvas id="detailChart" class="detail-chart"&gt;&lt;/canvas&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>&lt;table class="stats-table" id="statsTable"&gt;&lt;/table&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>&lt;/div&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">  </span>&lt;script&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>// --- Prosty Store ---</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>const LS_KEY = 'services_v2';</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>const HISTORY_LIMIT = 50;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>const grid = document.getElementById('grid');</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>const modalBG = document.getElementById('modalBG');</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>// --- Inicjalizacja serwisów ---</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>let services = JSON.parse(localStorage.getItem(LS_KEY)) || [</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>{name:'Itaka.pl', url:'https://itaka.pl', threshold:3000, history:[], errors:0},</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>{name:'Itaka.lt', url:'https://itaka.lt', threshold:3000, history:[], errors:0},</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>{name:'Cedok.cz', url:'https://cedok.cz', threshold:3000, history:[], errors:0},</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>{name:'Cedok.sk', url:'https://cedok.sk', threshold:3000, history:[], errors:0},</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>{name:'Itaka.hu', url:'https://itaka.hu', threshold:3000, history:[], errors:0},</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>{name:'Selvatour.pl', url:'https://selvatour.pl', threshold:3000, history:[], errors:0},</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>{name:'um24.pl', url:'https://um24.pl', threshold:3000, history:[], errors:0},</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>{name:'olakala.travel', url:'https://olakala.travel', threshold:3000, history:[], errors:0}</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>];</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22; min-height: 23.0px"><span class="s1"></span><br></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>// --- Renderowanie listy usług ---</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>function renderGrid() {</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>grid.innerHTML = services.map((svc, idx) =&gt; {</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>const last = svc.history.length ? svc.history[svc.history.length-1] : null;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>const avg = svc.history.length ? Math.round(svc.history.map(h=&gt;h.responseTime||0).reduce((a,b)=&gt;a+b,0)/svc.history.length) : '';</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>const bars = svc.history.slice(-20).map(h =&gt; {</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">          </span>let tooltip = `${formatDate(h.timestamp)}\n${h.responseTime ?? '-'}ms`;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">          </span>return `&lt;div class="bar ${h.success ? 'ok':'err'}" data-tooltip="${tooltip}" style="height:${Math.max(6, Math.min(80, h.responseTime/40))}px;"&gt;&lt;/div&gt;`</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>}).join('');</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>return `</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">          </span>&lt;div class="service-card"&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="card-header"&gt;${svc.name}&lt;/div&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="card-sub"&gt;${svc.url}&lt;/div&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="bar-chart" data-idx="${idx}" title="Kliknij, by zobaczyć szczegóły"&gt;${bars}&lt;/div&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="card-sub" style="margin-top:10px"&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">              </span>Ostatnia odpowiedź: &lt;span style="color:${last?(last.success ? '#319376':'#d34040'):'#888'};font-weight:600;"&gt;${last? (last.responseTime !== null ? last.responseTime+'ms' : 'error') : '-'}&lt;/span&gt;&lt;br&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">              </span>Średnia: &lt;b&gt;${avg ? avg+'ms' : '-'}&lt;/b&gt;&lt;br&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">              </span>Ostatni test: &lt;span&gt;${last ? formatHour(last.timestamp) : '-'}&lt;/span&gt;&lt;br&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">              </span>Próg: ${svc.threshold}ms</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">            </span>&lt;div class="flex-btn" style="margin-top:14px;"&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">              </span>&lt;button class="test-btn" onclick="testNow(${idx})"&gt;Test teraz&lt;/button&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">              </span>&lt;button class="delete-btn" onclick="deleteService(${idx})"&gt;✗&lt;/button&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">          </span>&lt;/div&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>`</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>}).join('');</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>// interaktywność wykresów</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>setTimeout(()=&gt;document.querySelectorAll('.bar-chart').forEach(el=&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>el.onclick=()=&gt;showModal(+el.dataset.idx)</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>),10);</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>}</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22; min-height: 23.0px"><span class="s1"></span><br></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>// Test pojedynczego</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>async function testNow(idx) {</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>const svc = services[idx];</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>try {</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>const res = await fetch('/api/test', {</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">          </span>method:'POST',</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">          </span>headers:{'Content-Type':'application/json'},</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">          </span>body:JSON.stringify({url:svc.url, timeout:10000})</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>});</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>const result = await res.json();</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>services[idx].history.push(result);</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>if(!result.success) services[idx].errors+=1;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>if(services[idx].history.length &gt; HISTORY_LIMIT) services[idx].history = services[idx].history.slice(-HISTORY_LIMIT);</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>localStorage.setItem(LS_KEY, JSON.stringify(services));</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>renderGrid();</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>} catch(e) { alert('Problem z testem!'); }</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>}</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22; min-height: 23.0px"><span class="s1"></span><br></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>// Usuwanie serwisu</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>function deleteService(idx) {</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>if(confirm('Usunąć ten serwis?')) {</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>services.splice(idx,1);</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>localStorage.setItem(LS_KEY, JSON.stringify(services));</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>renderGrid();</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>}</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>}</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22; min-height: 23.0px"><span class="s1"></span><br></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>// Dodaj nowy</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>document.getElementById('addForm').onsubmit = function(e){</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>e.preventDefault();</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>const name = document.getElementById('serviceName').value.trim();</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>const url = document.getElementById('serviceUrl').value.trim();</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>const t = +document.getElementById('serviceThreshold').value || 3000;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>if(!name || !url) return;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>services.push({name, url, threshold:t, history:[], errors:0});</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>localStorage.setItem(LS_KEY, JSON.stringify(services));</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>renderGrid();</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('serviceName').value='';</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('serviceUrl').value='';</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('serviceThreshold').value='3000';</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>}</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22; min-height: 23.0px"><span class="s1"></span><br></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>// --- Formatowanie godzin/dat ---</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>function formatHour(ts) {</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>const d=new Date(ts);</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>return d.toLocaleTimeString('pl-PL')+' '+d.toLocaleDateString('pl-PL');</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>}</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>function formatDate(ts) {</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>const d=new Date(ts);</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>return d.toLocaleString('pl-PL');</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>}</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22; min-height: 23.0px"><span class="s1"></span><br></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>// --- MODAL: szczegóły ---</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>function showModal(idx) {</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>const svc = services[idx];</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('modalTitle').innerText = svc.name+' - analiza szczegółowa';</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('fromDate').value = '';</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('toDate').value = '';</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>drawModalChart(svc, null, null);</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>modalBG.style.display = '';</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('closeModal').onclick = ()=&gt; modalBG.style.display = 'none';</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('fromDate').onchange = () =&gt; drawModalChart(svc, document.getElementById('fromDate').value, document.getElementById('toDate').value);</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('toDate').onchange = () =&gt; drawModalChart(svc, document.getElementById('fromDate').value, document.getElementById('toDate').value);</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('exportBtn').onclick = () =&gt; exportCSV(svc, document.getElementById('fromDate').value, document.getElementById('toDate').value);</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>}</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22; min-height: 23.0px"><span class="s1"></span><br></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>function filterHistory(svc, from, to) {</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>let arr = svc.history;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>if(from) arr = arr.filter(h=&gt; h.timestamp &gt;= from);</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>if(to) arr = arr.filter(h=&gt; h.timestamp &lt;= to+'T23:59:59');</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>return arr;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>}</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22; min-height: 23.0px"><span class="s1"></span><br></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>function drawModalChart(svc, fromVal, toVal) {</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>const hist = filterHistory(svc, fromVal, toVal);</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>// ---- Chart rysowanie ----</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>const canvas = document.getElementById('detailChart');</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>const ctx = canvas.getContext('2d');</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>canvas.width=canvas.offsetWidth; canvas.height=canvas.offsetHeight;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>ctx.clearRect(0,0,canvas.width,canvas.height);</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22; min-height: 23.0px"><span class="s1"></span><br></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>if(hist.length &lt; 2) {</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>ctx.font='16px Arial'; ctx.fillText('Za mało danych.', 32,46);</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>return;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>}</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22; min-height: 23.0px"><span class="s1"></span><br></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>// --- Wykres liniowy ---</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>const xs = hist.map((_,i)=&gt; i*(canvas.width/(hist.length-1)));</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>const ys = hist.map(h=&gt; canvas.height-Math.max(22, Math.min(canvas.height-34, h.responseTime/10)));</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>ctx.strokeStyle='#25829e'; ctx.lineWidth=3; ctx.beginPath();</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>xs.forEach((x,i)=&gt; ctx.lineTo(x,ys[i]));</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>ctx.stroke();</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22; min-height: 23.0px"><span class="s1"></span><br></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>// --- Punkty ---</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>ctx.fillStyle='#319376';</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>xs.forEach((x,i)=&gt; ctx.beginPath(), ctx.arc(x,ys[i],4,0,7), ctx.fill());</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22; min-height: 23.0px"><span class="s1"></span><br></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>// --- Opisy ----</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>ctx.font='10px Arial';</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>ctx.fillStyle='#555';</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>hist.forEach((h,i)=&gt; {</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>if(i%Math.ceil(hist.length/7)==0) {</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">          </span>ctx.fillText(formatHour(h.timestamp), xs[i], canvas.height-6);</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>}</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>});</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22; min-height: 23.0px"><span class="s1"></span><br></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>// --- Statystyki ---</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>const vals = hist.filter(h=&gt;h.responseTime).map(h=&gt;h.responseTime);</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>const min = Math.min(...vals), max = Math.max(...vals),</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>avg = Math.round(vals.reduce((a,b)=&gt;a+b,0)/vals.length),</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>med = vals.sort((a,b)=&gt;a-b)[Math.floor(vals.length/2)],</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>std = Math.round(Math.sqrt(vals.reduce((a,b)=&gt;a + (b-avg)*(b-avg),0)/vals.length));</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById('statsTable').innerHTML = `</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>&lt;tr&gt;&lt;th&gt;Liczba wyników&lt;/th&gt;&lt;td&gt;${vals.length}&lt;/td&gt;&lt;/tr&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>&lt;tr&gt;&lt;th&gt;Min&lt;/th&gt;&lt;td&gt;${min}ms&lt;/td&gt;&lt;/tr&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>&lt;tr&gt;&lt;th&gt;Max&lt;/th&gt;&lt;td&gt;${max}ms&lt;/td&gt;&lt;/tr&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>&lt;tr&gt;&lt;th&gt;Średnia&lt;/th&gt;&lt;td&gt;${avg}ms&lt;/td&gt;&lt;/tr&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>&lt;tr&gt;&lt;th&gt;Mediana&lt;/th&gt;&lt;td&gt;${med}ms&lt;/td&gt;&lt;/tr&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>&lt;tr&gt;&lt;th&gt;Odch. stand.&lt;/th&gt;&lt;td&gt;${std}ms&lt;/td&gt;&lt;/tr&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>`;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>}</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22; min-height: 23.0px"><span class="s1"></span><br></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>function exportCSV(svc, fromVal, toVal) {</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>const hist = filterHistory(svc, fromVal, toVal);</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>let csv = 'timestamp,response_time,status\n';</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>hist.forEach(h=&gt; {</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">        </span>csv += `${h.timestamp},${h.responseTime||''},${h.success?'OK':'ERROR'}\n`;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>});</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>const a = document.createElement('a');</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>a.href='data:text/csv;charset=utf-8,'+encodeURIComponent(csv);</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>a.download=svc.name.replace(/[^a-z0-9]/gi,'_')+'_historia.csv';</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>document.body.appendChild(a);</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>a.click();</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">      </span>document.body.removeChild(a);</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>}</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22; min-height: 23.0px"><span class="s1"></span><br></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>renderGrid();</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>// --- Automatyczne testy ---</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">    </span>setInterval(() =&gt; { services.forEach((_,idx)=&gt;testNow(idx)) }, 1800000 );</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1"><span class="Apple-converted-space">  </span>&lt;/script&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1">&lt;/body&gt;</span></h1>
<h1 style="margin: 0.0px 0.0px 8.0px 0.0px; font: 18.0px Times; color: #0e1d22; -webkit-text-stroke: #0e1d22"><span class="s1">&lt;/html&gt;</span></h1>
</body>
</html>
